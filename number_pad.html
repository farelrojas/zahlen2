<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Number Game</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <div class="container">
      <h1>Number Game</h1>
      <div class="input-section">
          <input type="text" id="user-input" placeholder="Enter the number">
          <button id="submit-answer">Submit</button>
          <button id="play-audio">üîä</button>
      </div>
      <div id="feedback" class="feedback"></div>
      <div class="scoreboard">
          <span>Score: <span id="score">0</span></span>
          <span>Sosses: <span id="losses">0</span></span>
      </div>
      <button id="go-back">Go Back</button>
  </div>

  <script>
    
      const availableNumbers = [
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
        21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39,
        40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58,
        59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77,
        78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96,
        97, 98, 99, 100
      ];

      const numbersInGerman = {
          0: 'null',
          1: 'eins',
          2: 'zwei',
          3: 'drei',
          4: 'vier',
          5: 'f√ºnf',
          6: 'sechs',
          7: 'sieben',
          8: 'acht',
          9: 'neun',
          10: 'zehn',
          11: 'elf',
          12: 'zw√∂lf',
          13: 'dreizehn',
          14: 'vierzehn',
          15: 'f√ºnfzehn',
          16: 'sechzehn',
          17: 'siebzehn',
          18: 'achtzehn',
          19: 'neunzehn',
          20: 'zwanzig',
          21: 'einundzwanzig',
          22: 'zweiundzwanzig',
          23: 'dreiundzwanzig',
          24: 'vierundzwanzig',
          25: 'f√ºnfundzwanzig',
          26: 'sechsundzwanzig',
          27: 'siebenundzwanzig',
          28: 'achtundzwanzig',
          29: 'neunundzwanzig',
          30: 'drei√üig',
          31: 'einunddrei√üig',
          32: 'zweiunddrei√üig',
          33: 'dreiunddrei√üig',
          34: 'vierunddrei√üig',
          35: 'f√ºnfunddrei√üig',
          36: 'sechsunddrei√üig',
          37: 'siebenunddrei√üig',
          38: 'achtunddrei√üig',
          39: 'neununddrei√üig',
          40: 'vierzig',
          41: 'einundvierzig',
          42: 'zweiundvierzig',
          43: 'dreiundvierzig',
          44: 'vierundvierzig',
          45: 'f√ºnfundvierzig',
          46: 'sechsundvierzig',
          47: 'siebenundvierzig',
          48: 'achtundvierzig',
          49: 'neunundvierzig',
          50: 'f√ºnfzig',
          51: 'einundf√ºnfzig',
          52: 'zweiundf√ºnfzig',
          53: 'dreiundf√ºnfzig',
          54: 'vierundf√ºnfzig',
          55: 'f√ºnfundf√ºnfzig',
          56: 'sechsundf√ºnfzig',
          57: 'siebenundf√ºnfzig',
          58: 'achtundf√ºnfzig',
          59: 'neunundf√ºnfzig',
          60: 'sechzig',
          61: 'einundsechzig',
          62: 'zweiundsechzig',
          63: 'dreiundsechzig',
          64: 'vierundsechzig',
          65: 'f√ºnfundsechzig',
          66: 'sechsundsechzig',
          67: 'siebenundsechzig',
          68: 'achtundsechzig',
          69: 'neunundsechzig',
          70: 'siebzig',
          71: 'einundsiebzig',
          72: 'zweiundsiebzig',
          73: 'dreiundsiebzig',
          74: 'vierundsiebzig',
          75: 'f√ºnfundsiebzig',
          76: 'sechsundsiebzig',
          77: 'siebenundsiebzig',
          78: 'achtundsiebzig',
          79: 'neunundsiebzig',
          80: 'achtzig',
          81: 'einundachtzig',
          82: 'zweiundachtzig',
          83: 'dreiundachtzig',
          84: 'vierundachtzig',
          85: 'f√ºnfundachtzig',
          86: 'sechsundachtzig',
          87: 'siebenundachtzig',
          88: 'achtundachtzig',
          89: 'neunundachtzig',
          90: 'neunzig',
          91: 'einundneunzig',
          92: 'zweiundneunzig',
          93: 'dreiundneunzig',
          94: 'vierundneunzig',
          95: 'f√ºnfundneunzig',
          96: 'sechsundneunzig',
          97: 'siebenundneunzig',
          98: 'achtundneunzig',
          99: 'neunundneunzig',
          100: 'hundert'
      };

      let currentNumber = 0;
      let score = 0;
      let losses = 0;

      const playAudioButton = document.getElementById('play-audio');
      const userInput = document.getElementById('user-input');
      const submitAnswerButton = document.getElementById('submit-answer');
      const feedback = document.getElementById('feedback');
      const scoreDisplay = document.getElementById('score');
      const lossesDisplay = document.getElementById('losses');

      function getRandomNumber() {
          return Math.floor(Math.random() * availableNumbers.length);
      }
      /*
      console.log(currentNumber);
      
function getFirstDigit(number) {
  let numStr = number.toString();
  let firstChar = numStr[0];
  let firstDigit = parseInt(firstChar, 10);
  return firstDigit;
}

function getLastDigit(number) {
    let numStr = number.toString();
    let lastChar = numStr[1];
    let lastDigit = parseInt(lastChar, 10);
    return lastDigit;
}
*/
      function playAudio(currentNumber) {
        console.log(currentNumber)
        const audio = new Audio(`/${currentNumber}.mp3`);
          audio.play();
      }
        /*
        decimal = getFirstDigit(currentNumber);
        unidad = getLastDigit(currentNumber);

        if (currentNumber < 21  || unidad === 0) {
          const audio = new Audio(`audio/${currentNumber}.mp3`);
          audio.play();
        } else {
          if (currentNumber === 100) {
            const audio = new Audio(`audio/100.mp3`);
         } else {
          const audioOnes = new Audio(`audio/${unidad}.mp3`);
          const und = new Audio(`audio/und.mp3`);
          const audioTens = new Audio(`audio/${decimal}0.mp3`);

          audioOnes.play();
          audioOnes.onended = function() {
            und.play();
          }
          und.onended = function() {
            audioTens.play();
          }
        }
        }
      }
      */

      function updateNumber() {
          currentNumber = getRandomNumber();
          playAudio(currentNumber); // Say the number aloud
      }

      playAudioButton.addEventListener('click', () => {
          playAudio(currentNumber);
          //updateNumber(); // Say the current number
      });
      

      userInput.addEventListener('keypress', (event) => {
          if (event.key === 'Enter') {
              submitAnswer();
          }
      });

      submitAnswerButton.addEventListener('click', () => {
          submitAnswer();
      });

      function submitAnswer() {
          const userAnswer = parseInt(userInput.value.trim());
          if (userAnswer === currentNumber) {
              feedback.textContent = 'Correct!';
              feedback.style.color = 'green';
              score++;
              const audioCorrect = new Audio(`correct.mp3`);
              audioCorrect.play();
          } else {
              feedback.textContent = 'Incorrect! Try again.';
              feedback.style.color = 'red';
              losses++;
              const audioWrong = new Audio(`wrong.mp3`);
              audioWrong.play();
          }
          scoreDisplay.textContent = score;
          lossesDisplay.textContent = losses;
          userInput.value = '';
          updateNumber();
      }

      window.onload = () => {
          updateNumber(); // Start with a new number
      };
      // Add event listener to go back button
      document.getElementById('go-back').addEventListener('click', () => {
        window.location.href = 'index.html';
      });
  </script>
</body>
</html>
